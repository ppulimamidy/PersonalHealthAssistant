# Production Environment Variables for MVP API
# Copy this file to .env.production and fill in your actual values

# ===========================================
# Supabase Configuration
# ===========================================
SUPABASE_URL=https://yadfzphehujeaiimzvoe.supabase.co
SUPABASE_SERVICE_KEY=your_supabase_secret_key_here
#SUPABASE_ANON_KEY=your_supabase_anon_key_here
# Needed to validate Supabase Auth JWTs (frontend `session.access_token`)
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here
# If you've migrated to Supabase "JWT Signing Keys" (ES256/RS256), prefer JWKS verification:
SUPABASE_ISSUER=https://<project-ref>.supabase.co/auth/v1
SUPABASE_JWKS_URL=https://<project-ref>.supabase.co/auth/v1/.well-known/jwks.json
SUPABASE_JWKS_CACHE_TTL_S=600

# ===========================================
# JWT Configuration
# ===========================================
# Generate a strong secret key with: openssl rand -hex 32
JWT_SECRET_KEY=your-production-jwt-secret-key-minimum-32-characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=10080

# ===========================================
# API Configuration
# ===========================================
API_VERSION=v1
ENVIRONMENT=production
DEBUG=false

# ===========================================
# CORS Configuration
# ===========================================
# Add your frontend domains (comma-separated)
ALLOWED_ORIGINS=https://your-frontend.vercel.app,https://yourdomain.com

# ===========================================
# Oura Ring Configuration
# ===========================================
# For production: Set USE_SANDBOX=false and add real OAuth credentials
# For demo mode: Set USE_SANDBOX=true (no OAuth needed)
USE_SANDBOX=false
OURA_USE_SANDBOX=false

# OAuth credentials (required if USE_SANDBOX=false)
OURA_CLIENT_ID=your_oura_client_id_here
OURA_CLIENT_SECRET=your_oura_client_secret_here
OURA_REDIRECT_URI=https://your-frontend.vercel.app/api/oura/callback

# Personal access token (optional, for direct API access)
OURA_ACCESS_TOKEN=your_oura_personal_access_token

# ===========================================
# Database Configuration (if not using Supabase)
# ===========================================
# DATABASE_URL=postgresql://user:password@host:5432/dbname

# ===========================================
# Optional: External Services
# ===========================================
# Sentry for error tracking
# SENTRY_DSN=https://your-sentry-dsn.ingest.sentry.io/project-id

# OpenAI for AI features (if using)
# OPENAI_API_KEY=sk-...

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ===========================================
# Logging
# ===========================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ===========================================
# OPTIONAL: Nutrition Service Integration
# ===========================================
# If you run the Nutrition service locally on port 8007:
NUTRITION_SERVICE_URL=http://localhost:8007

# NOTE: USDA API key is used by the Nutrition service (apps/nutrition), not the MVP API.
# Set `USDA_API_KEY` in the Nutrition service environment (see `apps/nutrition/.env.example`).
